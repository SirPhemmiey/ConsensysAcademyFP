<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Ether Options</title>
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
  </head>
  <body>
    <div class="container" style="width: 650px;">
      <div class "row">
        <div class="col-lg-12">
          <h1 class="text-center">ETHER OPTIONS</h1>
        <hr/>
        <br/>
        </div>
        <div id="content" class="text-center">
          <p>Welcome to Ether Options, ERC20 compliant Ether calls! For demonstration
            purposes, we assume that one stablecoin is equivalent to one USD.
            Start by wrapping your ether. 
          </p>
          <br/>
          <form onSubmit="App.mintWeth(); return false;" role="form">
            <div class="form-group">
              <div class="input-group">
                <input type="number" id="numberOfWeth" class="form-control input-lg" name="number" value="0" min="1" pattern="[0-9]">
              </input>
              <span class="input-group-btn">
                <button type="submit" class="btn btn-primary btn-lg">Wrap Ether</button>
              </span>
              </div>
            </div>
          </form>
          <p>Once you've successfully wrapped your ether, provide the Ether Options smart contract with custodial access to some of your WETH</p>
          <form onSubmit="App.approveWethTransfer(); return false;" role="form">
              <div class="form-group">
                <div class="input-group">
                  <input type="number" id="numberToApprove" class="form-control input-lg" name="number" value="0" min="1" pattern="[0-9]">
                </input>
                <span class="input-group-btn">
                  <button type="submit" class="btn btn-primary btn-lg">Approve WETH Transfer</button>
                </span>
                </div>
              </div>
            </form>
            <p>Now that you've approved your WETH, you can mint some ERC20 options!  These options are set to 
              expire 50,000 blocks from the one in which the EtherOptions contract was deployed. (That's about 7
              days with 12 second block time on the mainnet).  If you followed the instructions on github, your 
              ganache testnet should be mining a new block every hundredth of a second. (I apologize in advance if I hurt 
              anyone's PC) That means your Ether options should be redeemable approximately 8 minutes from the moment
              you migrated.
            </p>
            <form onSubmit="App.generateOptions(); return false;" role="form">
                <div class="form-group">
                  <div class="input-group">
                    <input type="number" id="numberToMint" class="form-control input-lg" name="number" value="0" min="1" pattern="[0-9]">
                  </input>
                  <span class="input-group-btn">
                    <button type="submit" class="btn btn-primary btn-lg">Mint Ether Calls</button>
                  </span>
                  </div>
                </div>
              </form>
            <p>These ether options are modeled after the ERC20 fungible token standard, meaning they
              are tradeable in a manner just like any other ERC20 token.  But,
              instead of trading an asset with some implicit value, you are trading the 
              option to purchase one ether for a "strike price" of 500 stablecoins (You should have 100k stablecoins in your account)
              In order to exercise option, you need to approve custodial access of 500 stablecoins to the EtherOptions smart contract.
              Once the correct block height has been reached (migration block + 50,000), feel free to redeem your options by specifying the amount
              you'd like to redeem and clicking the "Redeem Option" button.
            </p>
            <form onSubmit="App.approveFsc(); return false;" role="form">
                <div class="form-group">
                  <div class="input-group">
                    <input type="number" id="fscToApprove" class="form-control input-lg" name="number" value="0" min="1" pattern="[0-9]">
                  </input>
                  <span class="input-group-btn">
                    <button type="submit" class="btn btn-primary btn-lg">Approve Stablecoins</button>
                  </span>
                  </div>
                </div>
              </form>
              <br/>
              <form onSubmit="App.redeemOptions(); return false;" role="form">
                  <div class="form-group">
                    <div class="input-group">
                      <input type="number" id="fscToTransfer" class="form-control input-lg" name="number" value="0" min="1" pattern="[0-9]">
                    </input>
                    <span class="input-group-btn">
                      <button type="submit" class="btn btn-primary btn-lg">Redeem Options</button>
                    </span>
                    </div>
                  </div>
                </form>
            <p id="account-address"></p>
            <p><span class="fsc-balance"></span></p>
            <p><span class="fsc-approval"></span></p>
            <p><span class="weth-balance"></span></p>
            <p><span class="eopt-allowance"></span></p>
            <p><span class="eopt-balance"></span></p>
        </div>
      </div>
    </div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/web3.min.js"></script>
    <script src="js/truffle-contract.min.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
